import{_ as P}from"./3dsIeMM_.js";import{_ as x,c as d,e as u,b as i,U as D,V as E,g as N,h as m,f as q,l as T,E as F,a as c,w as S,u as s,F as A,C as V,t as f}from"./C3rPSchN.js";import{_ as C}from"./YBiWLh2D.js";import{u as I}from"./onxLjIMt.js";const $={class:"input-wrap"},k={__name:"CustomTextarea",props:{name:{type:String,required:!0},placeholder:{type:String,required:!0},rows:{type:Number,default:9},autofocus:{type:Boolean,default:!1}},emits:["updateTextarea"],setup(b,{emit:t}){const n=b,p=t;return(_,r)=>{const h=D,g=E;return u(),d("div",$,[i(h,{name:n.name,as:"textarea",placeholder:n.placeholder,rows:n.rows,autofocus:n.autofocus,onInput:r[0]||(r[0]=a=>p("updateTextarea",a.target.value))},null,8,["name","placeholder","rows","autofocus"]),i(g,{name:n.name},null,8,["name"])])}}},B=x(k,[["__scopeId","data-v-7ba9350d"]]),M=N({ar_name:m().required("Project Name in Arabic is required").min(3,"Project Name in Arabic must be at least 3 characters").max(30,"Project Name in Arabic must be at most 30 characters"),en_name:m().required("Project Name in English is required").min(3,"Project Name in English must be at least 3 characters").max(30,"Project Name in English must be at most 30 characters"),ar_description:m().required("Project Description in Arabic is required").min(10,"Project Description in Arabic must be at least 10 characters").max(30,"Project Description in Arabic must be at most 30 characters"),en_description:m().required("Project Description in English is required").min(10,"Project Description in English must be at least 10 characters").max(30,"Project Description in English must be at most 30 characters")}),L={class:"page modify_project_page"},O={class:"container modify_project_content"},R={for:"upload_img",class:"upload_image_icon image"},U=["src"],z={key:1,class:"pi pi-upload"},G={for:"upload_img"},H={class:"inputs"},J={class:"inputs"},K={class:"main-btn"},Q={__name:"index",setup(b){const{t}=q(),{submitMethod:n,submitResult:p,showErrorToast:_}=I(),r=T(),h=a=>{if(!["image/jpeg","image/png","image/webp","image/gif","image/svg+xml"].includes(a.type)){_(t("logo.invalidFile")),e.target.value="";return}const l=new FormData;l.append("file",a),n("/uploads/single",!0,l,"POST",null)};F(()=>{p?.value&&(r.value=p?.value?.data?.path)});const g=a=>{if(!r.value){_(t("project.errors.logoRequired"));return}const o=new FormData;o.append("logo",r.value),o.append("name.ar",a.ar_name),o.append("name.en",a.en_name),o.append("description.ar",a.ar_description),o.append("description.en",a.en_description),n("/projects",!0,o,"POST","/projects")};return(a,o)=>{const l=P,j=B,w=A,y=C;return u(),d("div",L,[c("div",O,[i(w,{"validation-schema":s(M),class:"form",onSubmit:g},{default:S(()=>[c("label",R,[s(r)?(u(),d("img",{key:0,src:s(r),alt:"project image",loading:"lazy"},null,8,U)):(u(),d("i",z))]),V(" "+f(s(r))+" ",1),c("label",G,f(s(t)("project.uploadLogo")),1),c("input",{type:"file",accept:"image/*",onChange:o[0]||(o[0]=v=>h(v.target.files[0])),id:"upload_img",hidden:""},null,32),c("div",H,[i(l,{name:"ar_name",type:"text",placeholder:s(t)("project.fields.arName")},null,8,["placeholder"]),i(l,{name:"en_name",type:"text",placeholder:s(t)("project.fields.enName")},null,8,["placeholder"])]),c("div",J,[i(j,{name:"ar_description",placeholder:s(t)("project.fields.arDescription"),rows:10},null,8,["placeholder"]),i(j,{name:"en_description",placeholder:s(t)("project.fields.enDescription"),rows:10},null,8,["placeholder"])]),c("button",K,f(s(t)("project.submit")),1)]),_:1},8,["validation-schema"])]),i(y)])}}},ee=x(Q,[["__scopeId","data-v-cfae0ce0"]]);export{ee as default};
