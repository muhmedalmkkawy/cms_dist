import{_ as P}from"./C6P25GNO.js";import{_ as x,c as d,e as u,b as i,U as q,V as D,g as E,h as m,f as N,l as F,E as S,a as c,w as T,u as s,F as A,t as j}from"./D3cRKuOr.js";import{_ as V}from"./CDy_4RSe.js";import{u as C}from"./D8IpI60F.js";const I={class:"input-wrap"},$={__name:"CustomTextarea",props:{name:{type:String,required:!0},placeholder:{type:String,required:!0},rows:{type:Number,default:9},autofocus:{type:Boolean,default:!1}},emits:["updateTextarea"],setup(f,{emit:t}){const n=f,p=t;return(_,r)=>{const h=q,g=D;return u(),d("div",I,[i(h,{name:n.name,as:"textarea",placeholder:n.placeholder,rows:n.rows,autofocus:n.autofocus,onInput:r[0]||(r[0]=a=>p("updateTextarea",a.target.value))},null,8,["name","placeholder","rows","autofocus"]),i(g,{name:n.name},null,8,["name"])])}}},k=x($,[["__scopeId","data-v-7ba9350d"]]),B=E({ar_name:m().required("Project Name in Arabic is required").min(3,"Project Name in Arabic must be at least 3 characters").max(30,"Project Name in Arabic must be at most 30 characters"),en_name:m().required("Project Name in English is required").min(3,"Project Name in English must be at least 3 characters").max(30,"Project Name in English must be at most 30 characters"),ar_description:m().required("Project Description in Arabic is required").min(10,"Project Description in Arabic must be at least 10 characters"),en_description:m().required("Project Description in English is required").min(10,"Project Description in English must be at least 10 characters")}),M={class:"page modify_project_page"},L={class:"container modify_project_content"},O={for:"upload_img",class:"upload_image_icon image"},R=["src"],U={key:1,class:"pi pi-upload"},z={for:"upload_img"},G={class:"inputs"},H={class:"inputs"},J={class:"main-btn"},K={__name:"index",setup(f){const{t}=N(),{submitMethod:n,submitResult:p,showErrorToast:_}=C(),r=F(),h=a=>{if(!["image/jpeg","image/png","image/webp","image/gif","image/svg+xml"].includes(a.type)){_(t("logo.invalidFile")),e.target.value="";return}const l=new FormData;l.append("file",a),n("/uploads/single",!0,l,"POST",null)};S(()=>{p?.value&&(r.value=p?.value?.data?.path)});const g=a=>{if(!r.value){_(t("project.errors.logoRequired"));return}const o=new FormData;o.append("logo",r.value),o.append("name.ar",a.ar_name),o.append("name.en",a.en_name),o.append("description.ar",a.ar_description),o.append("description.en",a.en_description),n("/projects",!0,o,"POST","/projects")};return(a,o)=>{const l=P,b=k,w=A,y=V;return u(),d("div",M,[c("div",L,[i(w,{"validation-schema":s(B),class:"form",onSubmit:g},{default:T(()=>[c("label",O,[s(r)?(u(),d("img",{key:0,src:s(r),alt:"project image",loading:"lazy"},null,8,R)):(u(),d("i",U))]),c("label",z,j(s(t)("project.uploadLogo")),1),c("input",{type:"file",accept:"image/*",onChange:o[0]||(o[0]=v=>h(v.target.files[0])),id:"upload_img",hidden:""},null,32),c("div",G,[i(l,{name:"ar_name",type:"text",placeholder:s(t)("project.fields.arName")},null,8,["placeholder"]),i(l,{name:"en_name",type:"text",placeholder:s(t)("project.fields.enName")},null,8,["placeholder"])]),c("div",H,[i(b,{name:"ar_description",placeholder:s(t)("project.fields.arDescription"),rows:10},null,8,["placeholder"]),i(b,{name:"en_description",placeholder:s(t)("project.fields.enDescription"),rows:10},null,8,["placeholder"])]),c("button",J,j(s(t)("project.submit")),1)]),_:1},8,["validation-schema"])]),i(y)])}}},Z=x(K,[["__scopeId","data-v-3a323730"]]);export{Z as default};
