import{_ as P}from"./C16_1YjZ.js";import{_ as x,c as d,e as u,b as i,U as D,V as E,g as q,h as m,f as N,l as F,E as S,a as c,w as T,u as s,F as A,t as j}from"./fUyhORtL.js";import{_ as V}from"./ilQk4knx.js";import{u as C}from"./DWu_uBs7.js";const I={class:"input-wrap"},$={__name:"CustomTextarea",props:{name:{type:String,required:!0},placeholder:{type:String,required:!0},rows:{type:Number,default:9},autofocus:{type:Boolean,default:!1}},emits:["updateTextarea"],setup(f,{emit:t}){const r=f,p=t;return(_,n)=>{const h=D,g=E;return u(),d("div",I,[i(h,{name:r.name,as:"textarea",placeholder:r.placeholder,rows:r.rows,autofocus:r.autofocus,onInput:n[0]||(n[0]=a=>p("updateTextarea",a.target.value))},null,8,["name","placeholder","rows","autofocus"]),i(g,{name:r.name},null,8,["name"])])}}},k=x($,[["__scopeId","data-v-7ba9350d"]]),B=q({ar_name:m().required("Project Name in Arabic is required").min(3,"Project Name in Arabic must be at least 3 characters").max(30,"Project Name in Arabic must be at most 30 characters"),en_name:m().required("Project Name in English is required").min(3,"Project Name in English must be at least 3 characters").max(30,"Project Name in English must be at most 30 characters"),ar_description:m().required("Project Description in Arabic is required").min(10,"Project Description in Arabic must be at least 10 characters").max(30,"Project Description in Arabic must be at most 30 characters"),en_description:m().required("Project Description in English is required").min(10,"Project Description in English must be at least 10 characters").max(30,"Project Description in English must be at most 30 characters")}),M={class:"page modify_project_page"},L={class:"container modify_project_content"},O={for:"upload_img",class:"upload_image_icon image"},R=["src"],U={key:1,class:"pi pi-upload"},z={for:"upload_img"},G={class:"inputs"},H={class:"inputs"},J={class:"main-btn"},K={__name:"index",setup(f){const{t}=N(),{submitMethod:r,submitResult:p,showErrorToast:_}=C(),n=F(),h=a=>{if(!["image/jpeg","image/png","image/webp","image/gif","image/svg+xml"].includes(a.type)){_(t("logo.invalidFile")),e.target.value="";return}const l=new FormData;l.append("file",a),r("/uploads/single",!0,l,"POST",null)};S(()=>{p?.value&&(n.value=p?.value?.data?.path)});const g=a=>{if(!n.value){_(t("project.errors.logoRequired"));return}const o=new FormData;o.append("logo",n.value),o.append("name.ar",a.ar_name),o.append("name.en",a.en_name),o.append("description.ar",a.ar_description),o.append("description.en",a.en_description),r("/projects",!0,o,"POST","/projects")};return(a,o)=>{const l=P,b=k,w=A,y=V;return u(),d("div",M,[c("div",L,[i(w,{"validation-schema":s(B),class:"form",onSubmit:g},{default:T(()=>[c("label",O,[s(n)?(u(),d("img",{key:0,src:s(n),alt:"project image",loading:"lazy"},null,8,R)):(u(),d("i",U))]),c("label",z,j(s(t)("project.uploadLogo")),1),c("input",{type:"file",accept:"image/*",onChange:o[0]||(o[0]=v=>h(v.target.files[0])),id:"upload_img",hidden:""},null,32),c("div",G,[i(l,{name:"ar_name",type:"text",placeholder:s(t)("project.fields.arName")},null,8,["placeholder"]),i(l,{name:"en_name",type:"text",placeholder:s(t)("project.fields.enName")},null,8,["placeholder"])]),c("div",H,[i(b,{name:"ar_description",placeholder:s(t)("project.fields.arDescription"),rows:10},null,8,["placeholder"]),i(b,{name:"en_description",placeholder:s(t)("project.fields.enDescription"),rows:10},null,8,["placeholder"])]),c("button",J,j(s(t)("project.submit")),1)]),_:1},8,["validation-schema"])]),i(y)])}}},Z=x(K,[["__scopeId","data-v-3a323730"]]);export{Z as default};
