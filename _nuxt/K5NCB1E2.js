import{_ as P}from"./BOn1k_MI.js";import{_ as b,c as p,e as m,b as r,U as w,V as q,g as v,h as l,f as D,m as N,a as i,w as E,u as o,F as S,t as g}from"./CrswDLC_.js";import{_ as A}from"./CUpkZv2h.js";import{u as F}from"./BNLeHrZ8.js";const T={class:"input-wrap"},V={__name:"CustomTextarea",props:{name:{type:String,required:!0},placeholder:{type:String,required:!0},rows:{type:Number,default:9},autofocus:{type:Boolean,default:!1}},emits:["updateTextarea"],setup(_,{emit:a}){const s=_,d=a;return(n,c)=>{const u=w,t=q;return m(),p("div",T,[r(u,{name:s.name,as:"textarea",placeholder:s.placeholder,rows:s.rows,autofocus:s.autofocus,onInput:c[0]||(c[0]=e=>d("updateTextarea",e.target.value))},null,8,["name","placeholder","rows","autofocus"]),r(t,{name:s.name},null,8,["name"])])}}},C=b(V,[["__scopeId","data-v-7ba9350d"]]),I=v({ar_name:l().required("Project Name in Arabic is required").min(3,"Project Name in Arabic must be at least 3 characters").max(30,"Project Name in Arabic must be at most 30 characters"),en_name:l().required("Project Name in English is required").min(3,"Project Name in English must be at least 3 characters").max(30,"Project Name in English must be at most 30 characters"),ar_description:l().required("Project Description in Arabic is required").min(10,"Project Description in Arabic must be at least 10 characters").max(30,"Project Description in Arabic must be at most 30 characters"),en_description:l().required("Project Description in English is required").min(10,"Project Description in English must be at least 10 characters").max(30,"Project Description in English must be at most 30 characters")}),$={class:"page modify_project_page"},k={class:"container modify_project_content"},B={for:"upload_img",class:"upload_image_icon image"},L=["src"],M={key:1,class:"pi pi-upload"},U={for:"upload_img"},R={class:"inputs"},O={class:"inputs"},z={class:"main-btn"},G={__name:"index",setup(_){const{t:a}=D(),{submitMethod:s,showErrorToast:d}=F(),n=N({file:null,url:null}),c=t=>{n.value.file=t,n.value.url=URL.createObjectURL(t)},u=t=>{if(!n.value.file){d(a("project.errors.logoRequired"));return}const e=new FormData;e.append("logo",n.value.file),e.append("name.ar",t.ar_name),e.append("name.en",t.en_name),e.append("description.ar",t.ar_description),e.append("description.en",t.en_description),s("/projects",!0,e,"POST","/projects")};return(t,e)=>{const h=P,f=C,j=S,x=A;return m(),p("div",$,[i("div",k,[r(j,{"validation-schema":o(I),class:"form",onSubmit:u},{default:E(()=>[i("label",B,[o(n).url?(m(),p("img",{key:0,src:o(n).url,alt:"project image",loading:"lazy"},null,8,L)):(m(),p("i",M))]),i("label",U,g(o(a)("project.uploadLogo")),1),i("input",{type:"file",accept:"image/*",onChange:e[0]||(e[0]=y=>c(y.target.files[0])),id:"upload_img",hidden:""},null,32),i("div",R,[r(h,{name:"ar_name",type:"text",placeholder:o(a)("project.fields.arName")},null,8,["placeholder"]),r(h,{name:"en_name",type:"text",placeholder:o(a)("project.fields.enName")},null,8,["placeholder"])]),i("div",O,[r(f,{name:"ar_description",placeholder:o(a)("project.fields.arDescription"),rows:10},null,8,["placeholder"]),r(f,{name:"en_description",placeholder:o(a)("project.fields.enDescription"),rows:10},null,8,["placeholder"])]),i("button",z,g(o(a)("project.submit")),1)]),_:1},8,["validation-schema"])]),r(x)])}}},W=b(G,[["__scopeId","data-v-88ba39ed"]]);export{W as default};
